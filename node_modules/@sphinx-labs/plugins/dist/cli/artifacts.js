"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.fetchRemoteArtifacts = void 0;
const core_1 = require("@sphinx-labs/core");
const ora_1 = __importDefault(require("ora"));
const fetchRemoteArtifacts = async (args) => {
    const { apiKey, orgId, projectName, silent } = args;
    const spinner = (0, ora_1.default)({ isSilent: silent });
    spinner.start(`Fetching artifacts...`);
    const deploymentArtifacts = await (0, core_1.fetchDeploymentArtifacts)(apiKey, orgId, projectName);
    spinner.succeed(`Fetched artifacts.`);
    spinner.start(`Writing artifacts...`);
    (0, core_1.writeDeploymentArtifacts)(projectName, core_1.ExecutionMode.Platform, deploymentArtifacts);
    spinner.succeed(`Wrote artifacts.`);
};
exports.fetchRemoteArtifacts = fetchRemoteArtifacts;
//# sourceMappingURL=artifacts.js.map